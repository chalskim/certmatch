<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CertMatch - 일정관리</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
            background: #f5f6f8;
            color: #333;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        /* App Header */
        .app-header {
            background: #0066CC;
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
            z-index: 100;
        }
        
        .app-title {
            font-size: 20px;
            font-weight: bold;
        }
        
        .header-icons {
            display: flex;
            gap: 15px;
        }
        
        .header-icon {
            position: relative;
            cursor: pointer;
        }
        
        .notification-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #FF4444;
            color: white;
            border-radius: 10px;
            padding: 2px 6px;
            font-size: 11px;
        }
        
        /* App Content */
        .app-content {
            flex: 1;
            overflow-y: auto;
            padding-bottom: 60px;
        }
        
        /* Section */
        .section {
            margin: 15px;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }
        
        .section-more {
            color: #0066CC;
            text-decoration: none;
            font-size: 14px;
        }
        
        /* Calendar Navigation */
        .calendar-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            background: white;
            padding: 10px 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        
        .calendar-title {
            font-size: 16px;
            font-weight: 600;
        }
        
        .calendar-nav-btn {
            background: none;
            border: none;
            font-size: 16px;
            color: #0066CC;
            cursor: pointer;
        }
        
        /* Calendar */
        .calendar {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .calendar-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            background: #f0f0f0;
            font-weight: 600;
            font-size: 12px;
        }
        
        .calendar-header div {
            padding: 10px 0;
        }
        
        .calendar-body {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #eee;
        }
        
        .calendar-day {
            min-height: 40px;
            background: white;
            padding: 5px;
            position: relative;
            font-size: 12px;
        }
        
        .calendar-day.other-month {
            background: #f9f9f9;
            color: #ccc;
        }
        
        .calendar-day.today {
            background: #e6f0ff;
        }
        
        .calendar-day-number {
            text-align: right;
            padding: 2px;
        }
        
        .calendar-day-events {
            margin-top: 2px;
        }
        
        .calendar-event {
            background: #0066CC;
            color: white;
            border-radius: 3px;
            padding: 1px 3px;
            margin-bottom: 1px;
            font-size: 10px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .calendar-event.education {
            background: #2EBD59;
        }
        
        .calendar-event.audit {
            background: #FF8C42;
        }
        
        .calendar-event.meeting {
            background: #87CEEB;
        }
        
        /* Today's Schedule */
        .today-schedule {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-top: 20px;
        }
        
        .today-schedule-header {
            background: #0066CC;
            color: white;
            padding: 12px 15px;
            font-weight: 600;
            font-size: 16px;
        }
        
        .today-schedule-item {
            padding: 15px 20px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .today-schedule-item:last-child {
            border-bottom: none;
        }
        
        .today-schedule-time {
            font-size: 12px;
            color: #0066CC;
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .today-schedule-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 3px;
            color: #333;
        }
        
        .today-schedule-category {
            font-size: 11px;
            color: #666;
        }
        
        .no-schedule {
            padding: 20px;
            text-align: center;
            color: #999;
            font-size: 14px;
        }
        
        /* Schedule Form */
        .schedule-form {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 20px;
            display: none;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }
        
        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.2s;
        }
        
        .form-input:focus, .form-select:focus, .form-textarea:focus {
            border-color: #0066CC;
            outline: none;
        }
        
        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
        }
        
        .form-col {
            flex: 1;
        }
        
        .form-button {
            padding: 12px 20px;
            background: #0066CC;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            width: 100%;
            margin-top: 10px;
        }
        
        .form-button:hover {
            background: #0056b3;
        }
        
        .form-button.secondary {
            background: #f0f0f0;
            color: #333;
        }
        
        .form-button.secondary:hover {
            background: #e0e0e0;
        }
        
        /* Schedule List */
        .schedule-list {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: none;
        }
        
        .schedule-item {
            padding: 15px 20px;
            border-bottom: 1px solid #f0f0f0;
            transition: background 0.2s;
        }
        
        .schedule-item:last-child {
            border-bottom: none;
        }
        
        .schedule-item:hover {
            background: #f9f9f9;
        }
        
        .schedule-date {
            font-size: 12px;
            color: #0066CC;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .schedule-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
            color: #333;
        }
        
        .schedule-desc {
            font-size: 13px;
            color: #666;
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .schedule-meta {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #999;
        }
        
        .schedule-actions {
            display: flex;
            gap: 10px;
        }
        
        .schedule-action {
            color: #0066CC;
            cursor: pointer;
            font-size: 14px;
        }
        
        .schedule-action.delete {
            color: #FF4444;
        }
        
        /* View Toggle */
        .view-toggle {
            display: flex;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 15px;
        }
        
        .view-toggle-btn {
            flex: 1;
            padding: 12px;
            background: white;
            border: none;
            font-size: 12px;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .view-toggle-btn.active {
            background: #0066CC;
            color: white;
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #999;
        }
        
        .empty-state i {
            font-size: 48px;
            margin-bottom: 15px;
            color: #e0e0e0;
        }
        
        .empty-state p {
            font-size: 14px;
        }
        
        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 100;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #666;
            text-decoration: none;
            font-size: 11px;
            transition: color 0.2s;
        }
        
        .nav-item.active {
            color: #0066CC;
        }
        
        .nav-item i {
            font-size: 20px;
            margin-bottom: 5px;
        }
        
        /* Responsive adjustments */
        @media (max-width: 480px) {
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .calendar-day {
                min-height: 35px;
                padding: 3px;
            }
            
            .calendar-event {
                font-size: 9px;
                padding: 1px 2px;
            }
        }
    </style>
</head>
<body>
    <!-- App Header -->
    <header class="app-header">
        <div class="header-icon" id="backButton">
            <i class="fas fa-arrow-left"></i>
        </div>
        <div class="app-title">일정관리</div>
        <div class="header-icons">
            <div class="header-icon">
                <i class="fas fa-bell"></i>
                <span class="notification-badge">2</span>
            </div>
            <div class="header-icon">
                <i class="fas fa-user-circle"></i>
            </div>
        </div>
    </header>
    
    <!-- App Content -->
    <div class="app-content">
        <!-- View Toggle -->
        <div class="section">
            <div class="view-toggle">
                <button class="view-toggle-btn active" data-view="calendar">캘린더</button>
                <button class="view-toggle-btn" data-view="form">일정 추가</button>
                <button class="view-toggle-btn" data-view="list">목록</button>
            </div>
        </div>
        
        <!-- Calendar View -->
        <div class="section" id="calendarView">
            <div class="calendar-nav">
                <button class="calendar-nav-btn" id="prevMonth">&lt;</button>
                <div class="calendar-title" id="calendarTitle">2025년 1월</div>
                <button class="calendar-nav-btn" id="nextMonth">&gt;</button>
            </div>
            
            <div class="calendar">
                <div class="calendar-header">
                    <div>일</div>
                    <div>월</div>
                    <div>화</div>
                    <div>수</div>
                    <div>목</div>
                    <div>금</div>
                    <div>토</div>
                </div>
                <div class="calendar-body" id="calendarBody">
                    <!-- Calendar days will be generated by JavaScript -->
                </div>
            </div>
            
            <!-- Today's Schedule -->
            <div class="today-schedule">
                <div class="today-schedule-header">
                    오늘의 일정
                </div>
                <div id="todayScheduleList">
                    <!-- Today's schedules will be generated by JavaScript -->
                </div>
            </div>
        </div>
        
        <!-- Schedule Form -->
        <div class="section" id="formView" style="display: none;">
            <div class="section-header">
                <h2 class="section-title">일정 추가</h2>
            </div>
            
            <div class="schedule-form">
                <div class="form-group">
                    <label class="form-label">제목</label>
                    <input type="text" class="form-input" placeholder="일정 제목을 입력하세요">
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="form-label">시작일</label>
                            <input type="date" class="form-input" id="startDate">
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label class="form-label">종료일</label>
                            <input type="date" class="form-input" id="endDate">
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="form-label">시작시간</label>
                            <input type="time" class="form-input">
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label class="form-label">종료시간</label>
                            <input type="time" class="form-input">
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">카테고리</label>
                    <select class="form-select">
                        <option value="">카테고리 선택</option>
                        <option value="consulting">컨설팅</option>
                        <option value="education">교육</option>
                        <option value="audit">심사</option>
                        <option value="meeting">미팅</option>
                        <option value="other">기타</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">설명</label>
                    <textarea class="form-textarea" placeholder="일정에 대한 상세 설명을 입력하세요"></textarea>
                </div>
                
                <button class="form-button">
                    <i class="fas fa-plus"></i> 일정 추가
                </button>
            </div>
        </div>
        
        <!-- Schedule List -->
        <div class="section" id="listView" style="display: none;">
            <div class="section-header">
                <h2 class="section-title">나의 일정</h2>
                <a href="#" class="section-more">더보기</a>
            </div>
            
            <div class="schedule-list">
                <div class="schedule-item">
                    <div class="schedule-date">2025.01.25 (토) 10:00 - 12:00</div>
                    <div class="schedule-title">ISMS-P 컨설팅 미팅</div>
                    <div class="schedule-desc">㈜테크솔루션 인증 컨설팅 미팅</div>
                    <div class="schedule-meta">
                        <span>컨설팅</span>
                        <div class="schedule-actions">
                            <span class="schedule-action"><i class="fas fa-edit"></i></span>
                            <span class="schedule-action delete"><i class="fas fa-trash"></i></span>
                        </div>
                    </div>
                </div>
                
                <div class="schedule-item">
                    <div class="schedule-date">2025.01.27 (월) 14:00 - 16:00</div>
                    <div class="schedule-title">ISO 27001 교육</div>
                    <div class="schedule-desc">온라인 교육 - 정보보호 관리체계 구축</div>
                    <div class="schedule-meta">
                        <span>교육</span>
                        <div class="schedule-actions">
                            <span class="schedule-action"><i class="fas fa-edit"></i></span>
                            <span class="schedule-action delete"><i class="fas fa-trash"></i></span>
                        </div>
                    </div>
                </div>
                
                <div class="schedule-item">
                    <div class="schedule-date">2025.02.01 (토) 종일</div>
                    <div class="schedule-title">심사원 교육 과정</div>
                    <div class="schedule-desc">한국정보통신진흥협회 - ISMS-P 심사원 기본과정</div>
                    <div class="schedule-meta">
                        <span>교육</span>
                        <div class="schedule-actions">
                            <span class="schedule-action"><i class="fas fa-edit"></i></span>
                            <span class="schedule-action delete"><i class="fas fa-trash"></i></span>
                        </div>
                    </div>
                </div>
                
                <div class="schedule-item">
                    <div class="schedule-date">2025.02.05 (수) 09:00 - 17:00</div>
                    <div class="schedule-title">㈜데이터시큐리티 현장심사</div>
                    <div class="schedule-desc">서울 강남구 테헤란로 123, 5층</div>
                    <div class="schedule-meta">
                        <span>심사</span>
                        <div class="schedule-actions">
                            <span class="schedule-action"><i class="fas fa-edit"></i></span>
                            <span class="schedule-action delete"><i class="fas fa-trash"></i></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="apphome.html" class="nav-item">
            <i class="fas fa-home"></i>
            <span>홈</span>
        </a>
        <a href="#" class="nav-item">
            <i class="fas fa-user-plus"></i>
            <span>전문가 등록</span>
        </a>        
        <a href="#" class="nav-item">
            <i class="fas fa-clipboard-check"></i>
            <span>심사 지원</span>
        </a>
        <a href="#" class="nav-item active">
            <i class="fas fa-calendar-alt"></i>
            <span>일정관리</span>
        </a>
        <a href="#" class="nav-item">
            <i class="fas fa-trophy"></i>
            <span>성공사례</span>
        </a>
    </nav>
    
    <script>
        // Back button functionality
        document.getElementById('backButton').addEventListener('click', function() {
            window.location.href = 'apphome.html';
        });
        
        // View toggle functionality
        const viewToggleBtns = document.querySelectorAll('.view-toggle-btn');
        const calendarView = document.getElementById('calendarView');
        const formView = document.getElementById('formView');
        const listView = document.getElementById('listView');
        
        viewToggleBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                // Remove active class from all buttons
                viewToggleBtns.forEach(b => b.classList.remove('active'));
                // Add active class to clicked button
                this.classList.add('active');
                
                // Hide all views
                calendarView.style.display = 'none';
                formView.style.display = 'none';
                listView.style.display = 'none';
                
                // Show selected view
                const view = this.getAttribute('data-view');
                if (view === 'calendar') {
                    calendarView.style.display = 'block';
                } else if (view === 'form') {
                    formView.style.display = 'block';
                } else if (view === 'list') {
                    listView.style.display = 'block';
                }
            });
        });
        
        // Calendar functionality
        let currentMonth = new Date().getMonth();
        let currentYear = new Date().getFullYear();
        
        // Sample events data
        const events = [
            { id: 1, title: "ISMS-P 컨설팅 미팅", date: "2025-01-25", category: "consulting" },
            { id: 2, title: "ISO 27001 교육", date: "2025-01-27", category: "education" },
            { id: 3, title: "심사원 교육 과정", date: "2025-02-01", category: "education" },
            { id: 4, title: "현장심사", date: "2025-02-05", category: "audit" }
        ];
        
        // Render calendar
        function renderCalendar() {
            const calendarBody = document.getElementById('calendarBody');
            const calendarTitle = document.getElementById('calendarTitle');
            const todayScheduleList = document.getElementById('todayScheduleList');
            
            // Set calendar title
            calendarTitle.textContent = `${currentYear}년 ${currentMonth + 1}월`;
            
            // Clear calendar body
            calendarBody.innerHTML = '';
            
            // Get first day of month and last day of month
            const firstDay = new Date(currentYear, currentMonth, 1);
            const lastDay = new Date(currentYear, currentMonth + 1, 0);
            
            // Get day of week for first day (0 = Sunday, 1 = Monday, etc.)
            const firstDayOfWeek = firstDay.getDay();
            
            // Get last day of previous month
            const lastDayOfPrevMonth = new Date(currentYear, currentMonth, 0).getDate();
            
            // Get today's date
            const today = new Date();
            const todayDate = today.getDate();
            const todayMonth = today.getMonth();
            const todayYear = today.getFullYear();
            
            // Previous month days
            for (let i = firstDayOfWeek - 1; i >= 0; i--) {
                const day = lastDayOfPrevMonth - i;
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day other-month';
                dayElement.innerHTML = `<div class="calendar-day-number">${day}</div>`;
                calendarBody.appendChild(dayElement);
            }
            
            // Current month days
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                
                // Check if today
                if (day === todayDate && currentMonth === todayMonth && currentYear === todayYear) {
                    dayElement.classList.add('today');
                }
                
                // Add day number
                dayElement.innerHTML = `<div class="calendar-day-number">${day}</div>`;
                
                // Add events for this day
                const dayEvents = events.filter(event => {
                    const eventDate = new Date(event.date);
                    return eventDate.getDate() === day && 
                           eventDate.getMonth() === currentMonth && 
                           eventDate.getFullYear() === currentYear;
                });
                
                if (dayEvents.length > 0) {
                    const eventsContainer = document.createElement('div');
                    eventsContainer.className = 'calendar-day-events';
                    
                    dayEvents.slice(0, 2).forEach(event => {
                        const eventElement = document.createElement('div');
                        eventElement.className = `calendar-event ${event.category}`;
                        eventElement.textContent = event.title;
                        eventsContainer.appendChild(eventElement);
                    });
                    
                    if (dayEvents.length > 2) {
                        const moreElement = document.createElement('div');
                        moreElement.className = 'calendar-event';
                        moreElement.textContent = `+${dayEvents.length - 2} 더보기`;
                        eventsContainer.appendChild(moreElement);
                    }
                    
                    dayElement.appendChild(eventsContainer);
                }
                
                calendarBody.appendChild(dayElement);
            }
            
            // Next month days (to fill the grid)
            const totalCells = 42; // 6 rows * 7 days
            const remainingCells = totalCells - (firstDayOfWeek + lastDay.getDate());
            
            for (let day = 1; day <= remainingCells; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day other-month';
                dayElement.innerHTML = `<div class="calendar-day-number">${day}</div>`;
                calendarBody.appendChild(dayElement);
            }
            
            // Populate today's schedule list
            const todaysEvents = events.filter(event => {
                const eventDate = new Date(event.date);
                return eventDate.getDate() === todayDate && 
                       eventDate.getMonth() === todayMonth && 
                       eventDate.getFullYear() === todayYear;
            });
            
            if (todaysEvents.length > 0) {
                todayScheduleList.innerHTML = '';
                todaysEvents.forEach(event => {
                    const scheduleItem = document.createElement('div');
                    scheduleItem.className = 'today-schedule-item';
                    
                    // Format time (using dummy times for demonstration)
                    const times = {
                        1: "10:00 - 12:00",
                        2: "14:00 - 16:00",
                        3: "종일",
                        4: "09:00 - 17:00"
                    };
                    
                    scheduleItem.innerHTML = `
                        <div class="today-schedule-time">${times[event.id] || "시간 미정"}</div>
                        <div class="today-schedule-title">${event.title}</div>
                        <div class="today-schedule-category">${event.category === 'consulting' ? '컨설팅' : 
                            event.category === 'education' ? '교육' : 
                            event.category === 'audit' ? '심사' : '기타'}</div>
                    `;
                    todayScheduleList.appendChild(scheduleItem);
                });
            } else {
                todayScheduleList.innerHTML = '<div class="no-schedule">오늘의 일정이 없습니다.</div>';
            }
        }
        
        // Navigation buttons
        document.getElementById('prevMonth').addEventListener('click', function() {
            currentMonth--;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            renderCalendar();
        });
        
        document.getElementById('nextMonth').addEventListener('click', function() {
            currentMonth++;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            renderCalendar();
        });
        
        // Initialize calendar
        renderCalendar();
        
        // Form submission
        const form = document.querySelector('.schedule-form');
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                // In a real app, this would submit the form data
                alert('일정이 추가되었습니다.');
                form.reset();
                
                // Switch back to calendar view
                viewToggleBtns.forEach(b => b.classList.remove('active'));
                document.querySelector('[data-view="calendar"]').classList.add('active');
                calendarView.style.display = 'block';
                formView.style.display = 'none';
            });
        }
        
        // Edit and delete actions
        document.querySelectorAll('.schedule-action').forEach(action => {
            action.addEventListener('click', function() {
                if (this.classList.contains('delete')) {
                    if (confirm('정말로 이 일정을 삭제하시겠습니까?')) {
                        this.closest('.schedule-item').remove();
                    }
                } else {
                    // Edit functionality would go here
                    alert('일정 수정 기능은 여기에 구현됩니다.');
                }
            });
        });
    </script>
</body>
</html>